<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>Research Compendium</title>
  <link href='styles.css' rel='stylesheet' type='text/css' />
</head>

<body>
	<div id="wrap">
	  <div id="centre">
	    <h1>Research Compendium</h1>
      <p>A research compendium accompanies a scientific publication by providing data, code, and documentation for reproducing a scientific workflow.
         They can be published on different platforms using the label (or tag, community, ...) <strong><code>research-compendium</code></strong>.
        </p>
      <ul>
        <li>GitHub &middot; <a href="https://github.com/topics/research-compendium/" target="_blank">https://github.com/topics/research-compendium/</a> <span id="hits_zenodo" class="count">..</span></li>
        <li>Zenodo &middot; <a href="https://zenodo.org/communities/research-compendium/" target="_blank">https://zenodo.org/communities/research-compendium/</a> <span id="hits_github" class="count">..</span></li>
      </ul>

      <h3>Publications about research compendia</h3>
      <p>
        <ul>
            <li>...</li>
        </ul>
      </p>
      <p>
        A publication is missing? <a href="https://github.com/research-compendium/research-compendium.github.io" target="_blank">Open an issue</a>.
      </p>

      <h3>Contact</h3>
	    <p>If you'd like to get in touch then <a href="https://github.com/research-compendium/research-compendium.github.io" target="_blank">post an issue on GitHub</a>.</p>

	  </div>
	</div>
	<div id="footer">
		<div class="centered">

		</div>
  </div>
  
  <script>
    var request_zenodo = new XMLHttpRequest();
    request_zenodo.open('GET', 'https://zenodo.org/api/records/?page=1&size=1&communities=research-compendium', true);

    request_zenodo.onload = function() {
      if (request_zenodo.status >= 200 && request_zenodo.status < 400) {
        var data = JSON.parse(request_zenodo.responseText);
        hits_zenodo = data.hits.total;
        console.log('Retrieved compendium count from Zenodo: ' + hits_zenodo);

        el = document.getElementById('hits_zenodo');
        el.textContent = hits_zenodo;
      } else {
        console.log('Error getting compendium count from Zenodo');
      }
    };

    request_zenodo.onerror = function() {
      console.log('Error getting compendium count from Zenodo');
    };

    request_zenodo.send();
  </script>
    <script>
        var request_github = new XMLHttpRequest();
        request_github.open('GET', 'https://api.github.com/search/repositories?q=topic:research-compendium&per_page=1', true);
    
        request_github.onload = function() {
          if (request_github.status >= 200 && request_github.status < 400) {
            var data = JSON.parse(request_github.responseText);
            hits_github = data.total_count;
            console.log('Retrieved compendium count from GitHub: ' + hits_github);
    
            el = document.getElementById('hits_github');
            el.textContent = hits_github;
          } else {
            console.log('Error getting compendium count from GitHub');
          }
        };
    
        request_github.onerror = function() {
          console.log('Error getting compendium count from GitHub');
        };
    
        request_github.send();
      </script>
</body>
</html>
